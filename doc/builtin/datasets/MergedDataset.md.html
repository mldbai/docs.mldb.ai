<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>MLDB Documentation</title>
<script src='/resources/js/mathjax_TeX-AMS-MML_HTMLorMML.js'></script>
<link rel='stylesheet' href='/resources/css/prism.css'>
<link rel='stylesheet' href='/resources/css/doc.css'>
<script src='/resources/js/jquery-1.11.2.min.js'></script>
<script src='/resources/js/prism.js'></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  if(window.location.origin == 'http://mldb.ai')
  { ga('create', 'UA-16909325-9', 'auto'); }
  else
  { ga('create', 'UA-16909325-10', {'cookieDomain': 'none'}); }
  ga('send', 'pageview');
</script>
</head>
<body style='margin-left: 50px; max-width: 1000px'>
<h1>Merged Dataset</h1>

<p>The merged dataset allows for rows from multiple datasets to be merged into a
single dataset.  Rows and columns that match up between the datasets will be
combined together.</p>

<p>The merge is done on the fly (only an index is created of rows and columns
in the merged dataset), which means it is relatively rapid to merge even
large datasets together. However, this means the underlying datasets that
are being merged cannot be deleted.</p>

<p>Creating a merged dataset is equivalent to the following SQL:</p>

<pre><code class="language-sql">SELECT * FROM ds1 OUTER JOIN ds2 ON ds1.rowName() = ds2.rowName()
</code></pre>

<h2>Configuration</h2>

<p><p>A new dataset of type <code>merged</code> named <code>&lt;id&gt;</code> can be created as follows:</p><pre><code class="language-python">mldb.put(&quot;/v1/datasets/&quot;+&lt;id&gt;, {
    &quot;type&quot;: &quot;merged&quot;,
    &quot;params&quot;: {
        "datasets": &lt;ARRAY [ <a href="/doc/builtin/datasets/DatasetConfig.md.html">Dataset (read-only)</a> ]&gt;
    }
})</code></pre><p>with the following key-value definitions for <code>params</code>:</p><table class="params table" width='100%'><tr><th align='right'>Field, Type, Default</th><th>Description</th></tr>
<tr><td align='right'><p><strong>datasets</strong> <br/> <nobr>ARRAY [ <a href="/doc/builtin/datasets/DatasetConfig.md.html">Dataset (read-only)</a> ]</nobr> <br/> <code></code></p></td><td><p>Datasets to merge together</p>
</td></tr>
</table></p>

<h2>See Also</h2>

<ul>
<li>The <code>merge</code> function can also be used within <a href="../sql/FromExpression.md#merge-function">From expressions</a>.</li>
<li>The <a href="/doc/builtin/datasets/TransposedDataset.md.html"><code>transposed</code> dataset type</a> is another dataset transformation</li>
<li>The <a href="/doc/builtin/procedures/TransformDataset.md.html"><code>transform</code> procedure type</a> can be used to modify a dataset ready for merging</li>
</ul>
</body>
</html>
